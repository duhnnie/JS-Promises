<!DOCTYPE html>
<html lang="en">
    <head>
        <script type="text/javascript" src="js/get.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function () {
                var button = document.querySelector('#load');
                button.addEventListener('click', function () {
                    var chapterIndex = parseInt(document.getElementById('chapter-index').value, 10);
                    getChapter(chapterIndex).then(function (chapter) {
                        document.getElementById('chapter-description').textContent = chapter.description;
                        return getChapter(chapterIndex + 1);
                    }).then(function (nextChapter) {
                        console.log("next chapter:", nextChapter);
                    });
                });
            });
        </script>
        <title>Playing with Promises</title>
    </head>
    <body>
        <input type="number" id="chapter-index"/>
        <button id="load">Load</button>
        <div>
            <h2 id="chapter-title"></h2>
            <p id="chapter-description"></p>
        </div>
    </body>
</html>